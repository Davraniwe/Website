# Static Site Server

Этот проект содержит статический сервер на Node.js, который по умолчанию слушает порт `1000` и раздаёт файлы из подкаталогов внутри репозитория. Текущий сайт расположен в директории `cancero.tech/`.

## Быстрый запуск
1. Убедитесь, что установлен Node.js (версия 16+).
2. Выполните `./start.sh`.
3. Сервер доступен по адресу [http://localhost:1000](http://localhost:1000). При необходимости смотрите логи в файле `server.log`.

Скрипт `start.sh` перед запуском автоматически освобождает порт `1000`, если его занимает предыдущий сервер.

## Ручной запуск
1. Убедитесь, что порт `1000` свободен (например, `lsof -i :1000`).
2. Запустите `node server.js`.
3. Чтобы процесс продолжил работу после закрытия терминала, используйте `nohup node server.js > server.log 2>&1 &`.

## Остановка
- `./stop.sh` корректно завершает процессы, которые слушают порт `1000`.
- Либо остановите вручную (например, `pkill -f "node server.js"`).

## Проверка работоспособности
- Локально: `curl -I http://localhost:1000`
- Удалённо: откройте [http://194.31.175.182:1000/](http://194.31.175.182:1000/)

## Структура
- `cancero.tech/` — файлы сайта cancero.tech (HTML, CSS, JS, изображения и т.д.).
- `server.js` — Node.js сервер для статической выдачи.
- `start.sh` / `stop.sh` — вспомогательные скрипты для управления сервером.
- `server.log` — вывод сервера при запуске через `start.sh` или `nohup` (не отслеживается Git, находится в корне).

## Добавление нового сайта
1. Создайте каталог с именем домена будущего сайта (например, `example.com/`).
2. Поместите в него `index.html` и остальные ресурсы (`css/`, `js/`, `assets/` и т.д.).
3. При запуске сервера запросы с заголовком `Host` вида `example.com` будут обслуживаться из этого каталога. Для локальной отладки добавьте запись в `hosts`, например `127.0.0.1 example.com`.
4. Если домен не найден, сервер вернёт содержимое каталога `cancero.tech/` как сайт по умолчанию.
